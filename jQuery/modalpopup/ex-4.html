<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    
    <script>
       $(function(){
            //오픈을 클릭하면 실행되게 한다.
            // blindFn 함수를 만든다.
                //변수를 이용하여 blinddiv를 만든다.
                // prevpend를 사용해서 마크업에 넣는다.
                // 만든 블라인드클라스의 css효과를 넣는다.
                // 포지션, 백그라운드컬러,디스플레이등등
                // 페이드투로 마무리 효과를 준다.
            // positionCenter라는 함수를 만든다.
                // 인자에 target을 넣는다.
                // 타겟의 css효과를 넣는다.(위치를 중앙으로 하기 위해)
                // 레프트, 탑의 값을 준다.
                // 마진레프트와 마진탑의 값을 준다(함수로 줄수도 있다)- 알고있으면 그냥 숫자로써도됨
                    // 함수로 줄땐, 이것의 css의 width값/ height값을 변수에 담는다.
                    // parseInt()<모든값을 정수로 바로 나오게 한다>을 사용하여, (변수)를 담아 나누기 2를 한 값에 + 'px'을 한다.
                    // 그 값을 리턴으로 반환 시킨다
            // openPopUp의 변수에 함수를 담는다.
                // 이것의 .attr(속성)을 아이디로 바꾼 것을 id라는 변수에 담는다.
                //  blindFn 함수를 호출하고 popMaket 함수을에 id를 호출하고, 팝업을 쇼로 보여준다.
            // popMaker라는 함수를 만든다.
                // 변수를 이용하여 popup 과 id의 클라스를 갖는 div와 콘텐츠를 넣을 div를 만들고 닫기 버튼 태크를 만든다.
                // 바디안에 어펜드를 이용하여 변수를 담는다.// append를 사용해서 마크업에 넣는다.
                // 팝업에 관해 포지션을 움직인다.
                // 아이디와 같이름을 가진 클라스의 html()을 불러오는 것을 contents라는 변수로 만든다.
                // 어펜드로 만드는 div안에 contents을 사용하여 내용을 불러드린다
                // 포지션에 id와 같은 클라스를 호출한다.
            // on이벤트를 사용하여 
            // 바디안에 .closebtn을 클릭하면, closeEvent를 사용해라.
            // closeEvent의 변수에 담아서 함수를 만든다.
                // 팝업을 페이드아웃시키고 이것을 없앤다.
                // 블라인드를 페이드 아웃시키고. 이것을 없앤다.
                
                
            var blindFn = function(){
                var tag = "";
                tag += '<div class="blind">';
                tag += '</div>';
                console.log(tag)
                $('body').prepend(tag);
                $('.blind').css({
                    'position':'absolute',
                    'top':0,
                    'right':0,
                    'bottom':0,
                    'left': 0,
                    'backgroundColor':'#000',
                    'display':'none'
                }).fadeTo(1000,0.3);
            }    
            
            function positionCenter(target){
                target.css({
                    left:"50%",
                    top:"50%",
                    marginLeft:function(){
                        var aa = $(this).css('width');
                        return -parseInt(aa)/2 + 'px';
                    },
                    marginTop:function(){
                        var aa = $(this).css('height');
                        return -parseInt(aa)/2 + 'px';
                    }
                })
            }
            
            var openPopUp = function(){
                var id = $(this).attr('id');
                // 이것의 속성중의 id만 가져온 것을 id라는 변수에 담는다.
                blindFn();
                popMaker(id);
                $('.popup').show(1000);
            }
            
            var popMaker = function(id){
                var contents = $('.'+id).html();
                
                var tag = "";
                tag += '<div class="popup '+id+'">';
                tag += '<div class="contents">';
                tag += contents;
                tag += '</div>';
                tag += '<button class="closebtn">닫기</button>';
                tag += '</div>';
                
                $('body').append(tag);
                positionCenter($('.'+id));
                
            }
            
            var closeEvent = function(){
                $('.popup').fadeOut(1000,function(){
                    $(this).remove()
                });
                $('.blind').fadeOut(1000,function(){
                    $(this).remove()
                })
            }
            
            $('.open').click(openPopUp);        
            $('body').on('click','.closebtn',closeEvent)
     })
    </script>
    <style>
        /*button{margin:0 auto;}*/
        .popup{
            width:500px; height:500px; border:1px #F00 solid;
            background-color: #fff;
            position:absolute;
            top:0;
            left:0;
            z-index:1;
            display:none;
        }
        .pop1{width:600px; height:600px; display:none;}
        .pop2{width:200px; height:200px; display:none;}
        .pop3{width:300px; height:600px; display:none;}
        .pop4{width:700px; height:600px; display:none;}
        
        .popup.pop1 .wrap{background-color:#F00;}
        .popup.pop2 .wrap{background-color:#FF0;}
        .popup.pop3 .wrap{background-color:#F0F;}
        .popup.pop4 .wrap{background-color:#0F0;}
    </style>
</head>
<body>
    
    <button class="open"  id="pop1">열어</button>
    <!--open-팝업을 불러오는 기능, pop1~4=컨텐츠를 불러오는 이름-->
    <button class="open"  id="pop2">열어</button>
    <button class="open"  id="pop3">열어</button>
    <button class="open"  id="pop4">열어</button>
    <div class="pop1"> 
        <div class="wrap">
           AAAAA
        <button>확인</button>
         </div>  
    </div>
    <div class="pop2"> 
        <div class="wrap">
            BBBB
            <button>확인</button>
         </div>  
    </div>
    <div class="pop3"> 
        <div class="wrap">
            CCCC
        <button>확인</button>
         </div>  
    </div>
    <div class="pop4"> 
        <div class="wrap">
            DDDD
        <button>확인</button>
         </div>  
    </div>
    
    
    
</body>
</html>